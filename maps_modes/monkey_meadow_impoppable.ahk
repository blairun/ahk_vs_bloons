#include more_monkey/helper_monkey.ahk

; ***************************
; ***        notes        ***
; ***************************
; going for the highest round possible
; also just trying to go berserk to complete SAPPER challenge

; ***************************
; ***        issues       ***
; ***************************
; in progress, about at round 100

monkey_meadow_impoppable() ; monkey knowledge maxed
{
  info_hero(DRONE(), A_LineFile)
  prep(MONKEY_MEADOW(), [HARD(), IMPOPPABLE()])
  global always_ability := [false]
  global bananas_pickup := [true
  , 1550, 980, 1550, 550, 1550, 125
  , 1225, 125, 1225, 550, 1225, 980]
  ; low right  mid right  top right
  ; top left   mid left   low left
  start()
  last_rang := rang(887, 453)
  targeting(last_rang, 1, "lefty")
  dart := dart(620, 541)
  ok(7)
  ok(8)
  ok(9)
  hero(634, 667)
  upgrade(last_rang, 3)
  ok(10)
  upgrade(last_rang, 2)
  ok(11)
  upgrade(last_rang, 2)
  ok(12)
  ok(13)
  upgrade(last_rang, 3)
  ok(14)
  ok(15)
  ok(16)
  ok(17)
  ok(18)
  ok(19)
  upgrade(last_rang, 3)
  ok(20)
  ok(21)
  ok(22)
  ok(23)
  ok(24) ; camo
  farm1 := farm(1365, 124)
  ok(25)
  ok(26)
  upgrade(farm1, 1)
  ok(27)
  upgrade(farm1, 2)
  ok(28) ; metal
  upgrade(farm1, 2)
  ok(29)
  ok(30)
  upgrade(farm1, 1)
  ok(31)
  ok(32)
  farm2 := farm(1367, 268)
  ok(33)
  upgrade(farm2, 1)
  upgrade(farm2, 2)
  ok(34)
  ok(35)
  upgrade(farm2, 1)
  upgrade(farm2, 2)
  ok(36)
  farm3 := farm(1369, 409)
  ability(1)
  ok(37)
  upgrade(farm3, 1)
  upgrade(farm3, 1)
  ok(38)
  upgrade(farm3, 2)
  upgrade(farm3, 2)
  ok(39)
  upgrade(last_rang, 3)
  ok(40) ; moab
  farm4 := farm(1371, 551)
  upgrade(farm4, 1)
  upgrade(farm4, 2)
  ability(1)
  ok(41)
  upgrade(farm4, 1)
  ok(42)
  upgrade(farm4, 2)
  primary_village := village(755, 512)
  upgrade(primary_village, 1)
  upgrade(primary_village, 3)
  ok(43)
  ability(1)
  upgrade(primary_village, 3)
  glaive_rang := rang(634, 397)
  upgrade(glaive_rang, 1)
  upgrade(glaive_rang, 1)
  upgrade(glaive_rang, 3)
  ok(44)
  upgrade(primary_village, 1)
  upgrade(glaive_rang, 3)
  ok(45)
  upgrade(primary_village, 1)
  upgrade(glaive_rang, 1)
  ok(46)
  upgrade(primary_village, 1)
  ok(47)
  robo_rang := rang(715, 397)
  upgrade(robo_rang, 1)
  upgrade(robo_rang, 1)
  upgrade(robo_rang, 2)
  upgrade(robo_rang, 2)
  ok(48)
  upgrade(robo_rang, 2)
  farm5 := farm(1377, 696)
  ok(49)
  upgrade(glaive_rang, 1)
  ok(50)
  upgrade(robo_rang, 2)
  ok(51)
  upgrade(farm5, 1)
  upgrade(farm5, 1)
  farm6 := farm(1376, 837)
  upgrade(farm6, 1)
  upgrade(farm5, 2)
  ok(52)
  upgrade(farm6, 1)
  upgrade(farm6, 2)
  ok(53)
  upgrade(farm6, 2)
  wait(1)
  farm7 := farm(1380, 979)
  upgrade(farm7, 1)
  upgrade(farm7, 1)
  upgrade(farm5, 2)
  ok(54)
  upgrade(farm7, 2)
  upgrade(farm7, 2)
  ok(55)
  farm8 := farm(1550, 189)
  upgrade(farm8, 2)
  ok(56)
  upgrade(farm1, 1)
  upgrade(farm2, 1)
  ok(57)
  upgrade(farm8, 1)
  upgrade(farm8, 1)
  farm9 := farm(1550, 330)
  upgrade(farm8, 2)
  ok(58)
  upgrade(farm3, 1)
  ok(59)
  upgrade(farm4, 1)
  upgrade(farm9, 1)
  upgrade(farm9, 2)
  ok(60) ; red
  upgrade(farm5, 1)
  upgrade(farm9, 1)
  ability(2)
  ok(61)
  upgrade(farm6, 1)
  ok(62)
  upgrade(farm9, 2)
  ok(63) ; x3 rushes
  upgrade(farm7, 1)
  farmA := farm(1549, 471)
  ability(1)
  wait(2)
  ability(2)
  wait(2)
  ability(3)
  ok(64)
  upgrade(farm8, 1)
  upgrade(farmA, 1)
  upgrade(farmA, 2)
  ok(65)
  upgrade(farm9, 1)
  upgrade(farmA, 1)
  upgrade(farmA, 2)
  ability(1)
  ok(66)
  upgrade(farmA, 1)
  farmB := farm(1552, 614)
  upgrade(farmB, 1)
  upgrade(farmB, 2)
  ability(2)
  ok(67)
  upgrade(farmB, 1)
  upgrade(farmB, 1)
  upgrade(farmB, 2)
  farmC := farm(1549, 755)
  upgrade(farmC, 1)
  ok(68)
  upgrade(farmC, 1)
  upgrade(farmC, 1)
  upgrade(farmC, 2)
  upgrade(farmC, 2)
  ability(3)
  ok(69)
  farmD := farm(1556, 897)
  upgrade(farmD, 1)
  upgrade(farmD, 1)
  upgrade(farmD, 2)
  upgrade(farmD, 2)
  ok(70)
  upgrade(farmD, 1)
  robo2 := rang(891, 520)
  sell(dart)
  aussie2 := rang(638, 498)
  lord2 := rang(630, 568)
  upgrade(robo2, 2)
  upgrade(robo2, 3)
  upgrade(aussie2, 1)
  upgrade(aussie2, 3)
  upgrade(lord2, 1)
  upgrade(lord2, 2)
  ok(71)
  ability(1)
  ok(72)
  upgrade(robo2, 2)
  upgrade(robo2, 3)
  upgrade(aussie2, 1)
  upgrade(aussie2, 3)
  upgrade(lord2, 1)
  upgrade(lord2, 2)
  ok(73)
  upgrade(farm1, 1)
  wait(2)
  ability(2)
  ok(74)
  ok(75)
  upgrade(aussie2, 3)
  wait(2)
  ability(1)
  ok(76) ; heart rush
  upgrade(farm2, 1)
  ability(3)
  ok(77)
  wait(2)
  ability(2)
  ok(78)
  upgrade(farm3, 1)
  ok(79)
  upgrade(lord2, 1)
  ok(80) ; zomg
  ability(3)
  ability(1)
  ok(81)
  wait(2)
  ability(2)
  wait(2)
  ability(3)
  ok(82)
  upgrade(lord2, 1)
  upgrade(robo2, 2)
  upgrade(robo2, 2)
  upgrade(aussie2, 3)
  ability(2)
  ability(2)
  glue := glue(501, 552)
  upgrade(glue, 2)
  upgrade(glue, 2)
  upgrade(glue, 3)
  upgrade(glue, 3)
  upgrade(glue, 3)
  upgrade(glue, 3)
  ok(83)
  upgrade(farm4, 1)
  ability(1)
  ok(84)
  rang3 := rang(717, 666)
  upgrade(rang3, 2)
  upgrade(rang3, 2)
  upgrade(rang3, 3)
  upgrade(rang3, 3)
  upgrade(rang3, 3)
  upgrade(rang3, 3)
  ok(85)
  upgrade(farm5, 1)
  hood3 := rang(798, 669)
  upgrade(hood3, 1)
  upgrade(hood3, 1)
  upgrade(hood3, 1)
  upgrade(hood3, 1)
  upgrade(hood3, 3)
  upgrade(hood3, 3)
  ok(86)
  upgrade(farm6, 1)
  robo3 := rang(892, 671)
  upgrade(robo3, 1)
  upgrade(robo3, 1)
  upgrade(robo3, 2)
  upgrade(robo3, 2)
  upgrade(robo3, 2)
  ok(87)
  upgrade(robo3, 2)
  ability(3)
  ok(88)
  upgrade(farm7, 1)
  ability(1)
  ok(89)
  upgrade(farm8, 1)
  ok(90) ; ds
  upgrade(farm9, 1)
  ability(2)
  ability(2)
  ability(2)
  ok(91)
  upgrade(farmA, 1)
  ok(92)
  upgrade(farmB, 1)
  ok(93)
  ability(2)
  wait(2)
  ability(2)
  wait(2)
  ability(2)
  ok(94)
  ok(95) ; ds and moabs rush
  wiz := wizard(496, 673)
  upgrade(wiz, 1111122)
  wait(1)
  ability(3)
  wait(1)
  ability(1)
  wait(1)
  ability(2)
  ability(2)
  ability(2)
  ; debug ********* prev run died here *********
  ;       * adding wizard to help w/95 and beyond
  ;       * how are we on money?
  ok(96)
  upgrade(farmC, 1)
  ability(3)
  ok(97)
  upgrade(farmD, 1)
  ability(2)
  ability(2)
  ability(2)
  ok(98)
  upgrade(farm1, 1)
  sell(farmB)
  money := village(1514, 607)
  upgrade(money, 1)
  upgrade(money, 1)
  upgrade(money, 3)
  upgrade(money, 3)
  upgrade(money, 3)
  upgrade(money, 3)
  upgrade(money, 3)
  farmE := farm(1373, 409)
  farmF := farm(1366, 553)
  farmG := farm(1366, 696)
  farmH := farm(1377, 837)
  farmI := farm(1557, 478)
  farmJ := farm(1559, 742)
  upgrade(farmE, 1)
  upgrade(farmE, 1)
  upgrade(farmE, 1)
  upgrade(farmE, 2)
  upgrade(farmE, 2)
  upgrade(farmF, 1)
  upgrade(farmF, 1)
  upgrade(farmF, 1)
  upgrade(farmF, 2)
  upgrade(farmF, 2)
  upgrade(farmG, 1)
  upgrade(farmG, 1)
  upgrade(farmG, 1)
  upgrade(farmG, 2)
  upgrade(farmG, 2)
  upgrade(glue, 3)
  ok(99)
  upgrade(lord2, 1)
  upgrade(farmH, 1)
  upgrade(farmH, 1)
  upgrade(farmH, 1)
  upgrade(farmH, 2)
  upgrade(farmH, 2)
  upgrade(farmI, 1)
  upgrade(farmI, 1)
  upgrade(farmI, 1)
  upgrade(farmI, 2)
  upgrade(farmI, 2)
  upgrade(farmJ, 1)
  upgrade(farmJ, 1)
  upgrade(farmJ, 1)
  upgrade(farmJ, 2)
  upgrade(farmJ, 2)
  ok(100) ; bad
  upgrade(farmE, 1)
  wait(3)
  upgrade(last_rang, 3)
  ability(2)
  ability(2)
  ability(2)
  continue()
  upgrade(farmF, 1)
  ok(101)
  upgrade(farmG, 1)
  ok(102)
  upgrade(farmH, 1)
  ok(103)
  upgrade(farmI, 1)
  upgrade(farmJ, 1)
  ok(104)
  upgrade(robo_rang, 2)
  ok(105)
  ok(106)
  ok(107)
  ability(4)
  ok(108)
  ok(109)
  ok(110)
  upgrade(last_rang, 3)
  click([1131, 724])
  ok(111)
  ok(112)
  upgrade(primary_village, 1)
  knowledge := village(692, 384)
  upgrade(knowledge, 2)
  upgrade(knowledge, 2)
  upgrade(knowledge, 2)
  upgrade(knowledge, 3)
  upgrade(knowledge, 3)
  tack := tack(620, 538)
  upgrade(tack, 1)
  upgrade(tack, 1)
  upgrade(tack, 3)
  upgrade(tack, 3)
  upgrade(tack, 3)
  upgrade(tack, 3)
  upgrade(tack, 3)
}
